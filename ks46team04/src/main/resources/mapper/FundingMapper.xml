<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ks46team04.admin.mapper.FundingMapper">
	<resultMap type="Funding" id="fundingResultMap">
		<id 	column="funding_code"			property="fundingCode"/>
		<result column="funding_name"			property="fundingName"/>
		<result column="funding_foundation"		property="fundingFoundation"/>
		<result column="goods_code"				property="goodsCode"/>
		<result column="funding_goal_amount"	property="fundingGoalAmount"/>
		<result column="funding_start_date"	property="fundingStartDate"/>
		<result column="funding_end_date"	property="fundingEndDate"/>
		<result column="funding_progress"	property="fundingProgress"/>
		<collection property="fundingList" ofType="Funding">
			<id 	column="funding_code"  			property="fundingCode"/>
			<result column="funding_name"			property="fundingName"/>
			<result column="funding_foundation"		property="fundingFoundation"/>
			<result column="goods_code"				property="goodsCode"/>
			<result column="funding_goal_amount"	property="fundingGoalAmount"/>
			<result column="funding_start_date"		property="fundingStartDate"/>
			<result column="funding_end_date"		property="fundingEndDate"/>
			<result column="funding_progress"		property="fundingProgress"/>
		</collection>
	</resultMap>
	
	<select id="getFundingList" resultType="Funding">
		/* 펀딩 목록 조회 */
		SELECT
			f.funding_code		  	AS fundingCode,
			f.funding_name		  	AS fundingName,
			f.funding_foundation 	AS fundingFoundation,
			f.goods_code		  	AS goodsCode,
			f.funding_goal_amount 	AS fundingGoalAmount,	
			f.funding_start_date  	AS fundingStartDate,			
			f.funding_end_date	  	AS fundingEndDate,
			f.funding_progress 	  	AS fundingProgress
		FROM
			each_funding_info AS f
		ORDER BY funding_code DESC;
			
	</select>
	
	
	
	
	
	
	
</mapper>